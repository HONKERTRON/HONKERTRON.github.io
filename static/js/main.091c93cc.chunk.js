(this["webpackJsonpspheroid.gltf-viewer"]=this["webpackJsonpspheroid.gltf-viewer"]||[]).push([[0],{499:function(e,t,n){},503:function(e,t,n){},505:function(e,t,n){"use strict";n.r(t);var a,r,o=n(38),i=n.n(o),s=n(365),c=n.n(s),l=(n(499),n(495)),u=n(465),m=n(155),d=n(463),f=(n(503),n(199)),h=[],p=Date.now();function g(e,t){console.log("mesh picked:",e)}function v(e){var t;a=e.canvas,r=e.scene,m.e.ShowLoadingScreen=!1,d.a.IncrementalLoading=!1,m.e.LoadAssetContainerAsync("","./untitled.glb",r).then((function(e){e.meshes.forEach((function(t){if(t.material&&t.material.metadata.gltf.extras&&t.material.metadata.gltf.extras.isShaderMaterial){var n,a,o=null===(n=t.material)||void 0===n?void 0:n.metadata.gltf.extras;o.uniforms?-1===o.uniforms.indexOf("worldViewProjection")&&o.uniforms.push("worldViewProjection"):o.uniforms=["worldViewProjection"];var i=[];o.samplers&&o.samplers.forEach((function(e){return i.push(e.name)}));for(var s="",c=0;c<o.vertexSource.length;c++)s+=o.vertexSource[c];for(var l="",u=0;u<o.fragmentSource.length;u++)l+=o.fragmentSource[u];m.c.ShadersStore[t.material.name+"_customVertexShader"]=s,m.c.ShadersStore[t.material.name+"_customFragmentShader"]=l;var d=new m.f(t.material.name+"_custom",r,{vertex:t.material.name+"_custom",fragment:t.material.name+"_custom"},{attributes:o.attributes,uniforms:o.uniforms,samplers:i,needAlphaBlending:!1,needAlphaTesting:!0});null===(a=o.samplers)||void 0===a||a.forEach((function(t){for(var n=null,a=0;a<e.textures.length;a++)for(var r=e.textures[a].metadata.gltf.pointers,o=0;o<r.length;o++)t.pointer===r[o]&&(n=e.textures[o]);n&&d.setTexture(t.name,n)})),d.backFaceCulling=t.material.backFaceCulling,t.material=d,o.uniforms&&o.uniforms.indexOf("time")>-1&&h.push(d)}})),e.addAllToScene()})),r.clearColor=new m.b(.5,0,.5,.4);new m.d("sun",new m.g(-1,-1,0),r);var n=new m.a("BGCamera",Math.PI/2+Math.PI/7,Math.PI/2,100,new m.g(0,0,0),r);n.speed=.01,n.minZ=.001,null===(t=r.activeCameras)||void 0===t||t.push(n),n.attachControl(a,!0),r.getEngine().runRenderLoop((function(){r&&(r.render(),h.forEach((function(e){return e.setFloat("time",(Date.now()-p)/1e3)})))}))}var x=function(){var e=Object(o.useState)(!1),t=Object(l.a)(e,2),n=(t[0],t[1]),a=Object(o.useRef)(!1);return!1===document.fonts.check("16px FontAwesome")?document.fonts.load("16px FontAwesome").then((function(){!0!==a.current&&(a.current=!0,n(!0))})):!0!==a.current&&(a.current=!0,n(!0)),Object(f.jsx)("div",{className:"App",children:Object(f.jsx)("header",{className:"App-header",children:Object(f.jsx)("div",{style:{flex:1,display:"flex"},children:Object(f.jsx)(u.a,{antialias:!0,adaptToDeviceRatio:!0,canvasId:"babylonJS",children:Object(f.jsx)(u.b,{children:null,onMeshPicked:g,onSceneMount:v})})})})})};c.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(x,{})}),document.getElementById("root"))}},[[505,1,2]]]);
//# sourceMappingURL=main.091c93cc.chunk.js.map