(this["webpackJsonpspheroid.gltf-viewer"]=this["webpackJsonpspheroid.gltf-viewer"]||[]).push([[0],{499:function(e,t,n){},503:function(e,t,n){},505:function(e,t,n){"use strict";n.r(t);var a,r,o=n(38),i=n.n(o),s=n(365),c=n.n(s),l=(n(499),n(495)),u=n(465),d=n(135),m=n(463),f=(n(503),n.p+"static/media/dome.225b30b8.jpg"),h=n(155),p=[],g=Date.now(),b=["object_1.glb","object_1_net.glb"],v=0;function x(e,t){console.log("mesh picked:",e)}function j(){if(r){var e=r.getNodeByName("__root__");e&&e.dispose(),v=(v+1)%b.length,d.f.LoadAssetContainerAsync("","./"+b[v],r).then((function(e){w(e)}))}}function w(e){e.meshes.forEach((function(t){if(t.material&&t.material.metadata.gltf.extras&&t.material.metadata.gltf.extras.isShaderMaterial){var n,a,o=null===(n=t.material)||void 0===n?void 0:n.metadata.gltf.extras;o.uniforms?-1===o.uniforms.indexOf("worldViewProjection")&&o.uniforms.push("worldViewProjection"):o.uniforms=["worldViewProjection"];var i=[];o.samplers&&o.samplers.forEach((function(e){return i.push(e.name)}));for(var s="",c=0;c<o.vertexSource.length;c++)s+=o.vertexSource[c];for(var l="",u=0;u<o.fragmentSource.length;u++)l+=o.fragmentSource[u];d.c.ShadersStore[t.material.name+v+"_customVertexShader"]=s,d.c.ShadersStore[t.material.name+v+"_customFragmentShader"]=l;var m=new d.g(t.material.name+v+"_custom",r,{vertex:t.material.name+v+"_custom",fragment:t.material.name+v+"_custom"},{attributes:o.attributes,uniforms:o.uniforms,samplers:i,needAlphaBlending:!!o.needsAlphaBlending&&o.needsAlphaBlending,needAlphaTesting:!0});null===(a=o.samplers)||void 0===a||a.forEach((function(t){for(var n=0;n<e.textures.length;n++)for(var a=e.textures[n].metadata.gltf.pointers,r=0;r<a.length;r++)t.pointer===a[r]&&m.setTexture(t.name,e.textures[n])})),m.backFaceCulling=t.material.backFaceCulling,t.material=m,o.uniforms&&o.uniforms.indexOf("time")>-1&&p.push(m)}})),e.addAllToScene()}function S(e){var t;a=e.canvas,r=e.scene,d.f.ShowLoadingScreen=!1,m.a.IncrementalLoading=!1,d.f.LoadAssetContainerAsync("","./"+b[v],r).then((function(e){w(e)})),r.clearColor=new d.b(.5,0,.5,.4);new d.e("testdome",f,{},r),new d.d("sun",new d.h(-1,-1,0),r);var n=new d.a("BGCamera",Math.PI/2+Math.PI/7,Math.PI/2,1,new d.h(0,0,0),r);n.speed=.01,n.minZ=.001,null===(t=r.activeCameras)||void 0===t||t.push(n),n.attachControl(a,!0),r.getEngine().runRenderLoop((function(){r&&(r.render(),p.forEach((function(e){return e.setFloat("time",(Date.now()-g)/1e3)})))}))}var A=function(){var e=Object(o.useState)(!1),t=Object(l.a)(e,2),n=(t[0],t[1]),a=Object(o.useRef)(!1);return!1===document.fonts.check("16px FontAwesome")?document.fonts.load("16px FontAwesome").then((function(){!0!==a.current&&(a.current=!0,n(!0))})):!0!==a.current&&(a.current=!0,n(!0)),Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)("header",{className:"App-header",children:[Object(h.jsx)("button",{style:{position:"absolute",top:"10px",bottom:"10px"},onClick:j,children:"Next"}),Object(h.jsx)("div",{style:{flex:1,display:"flex"},children:Object(h.jsx)(u.a,{antialias:!0,adaptToDeviceRatio:!0,canvasId:"babylonJS",children:Object(h.jsx)(u.b,{children:null,onMeshPicked:x,onSceneMount:S})})})]})})};c.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(A,{})}),document.getElementById("root"))}},[[505,1,2]]]);
//# sourceMappingURL=main.8299876b.chunk.js.map